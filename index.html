<!DOCTYPE html>
<html ng-app="power">
<head>
  <title>Simple Angular Auth</title>
  <!-- External JS Resources -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
  <script src="https://cdn.rawgit.com/auth0/angular-jwt/master/dist/angular-jwt.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-resource.min.js"></script>
  <script type="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.css"></script>
  <script src="http://underscorejs.org/underscore.js"></script>


  <!-- Internal JS Resources -->
  <script src="./js/app.js"></script>
  <script type="text/javascript" src="./js/models/user.js"></script>
  <script type="text/javascript" src="./js/services/tokenService.js"></script>
  <script type="text/javascript" src="./js/services/authInterceptor.js"></script>
  <script type="text/javascript" src="./js/controllers/usersController.js"></script>
  <script type="text/javascript" src="./js/controllers/powersController.js"></script>
  <script type="text/javascript" src="./js/controllers/recipientsController.js"></script>

  <script type="text/javascript" src="./js/models/recipient.js"></script>
  <script type="text/javascript" src="./js/models/power.js"></script>
  <script type="text/javascript" src="./js/models/category.js"></script>



  <!-- Style -->
  <link rel="stylesheet" type="text/css" href="./css/style.css">

<body>

<!-- users controller for log in -->

<div ng-controller="usersController as users">

  <nav>
    <ul>
      <li><a href="#authorize">Log In</a></li>
      <li><a href="#join">Join</a></li>
      <li><a ng-click="users.disappear()">Log Out</a></li>
    </ul>
  </nav>


 <section>
   <h3>Login</h3>
   <form id="authorize" ng-submit="users.authorize()">
     <label for="name">Name</label>
     <input type="text" name="name" placeholder="name" ng-model="users.user.username">

     <label for="name">Email</label>
     <input type="text" name="name" placeholder="What is your email?" ng-model="users.user.email">

     <label for="password">Password</label>
     <input type="password" name="password" placeholder="What is your password?" ng-model="users.user.password">

     <input type="submit" value="Access">
   </form>
 </section>


 <section>
   <h3>Join</h3>
   <form id="join" ng-submit="users.join()">
     <label for="name">Name</label>
     <input type="text" name="name" placeholder="name" ng-model="users.user.username">

     <label for="email">email</label>
     <input type="text" name="email" placeholder="What's your email?" ng-model="users.user.email">

     <label>Profile Picture</label>
     <input type="text" name="image" placeholder="Got a photo?" ng-model="users.user.image">

     <label for="password">Password</label>
     <input type="password" name="password" placeholder="Password" ng-model="users.user.password">

     <input type="submit" value="Access">
   </form>
 </section>

</div>

<!-- main / powers controller -->

<!-- need to add ng-repeat to go over each button-->

<main ng-controller="PowersController as power">
 <!-- <div ng-repeat="categories in powers.all"> -->
  <div class="homegrid">
    <div class="container">
      <div class="row">
        <div class="four columns">
          <div class="u-max-full-width" src="">
            <a class="button button-primary" ng-click="power.selectPower(power.categories[0].name)">{{ power.categories[0].name }}</a>
            <a class="button button-primary" href="#">{{ power.categories[1].name }}</a>
            <a class="button button-primary" href="#">{{ power.categories[2].name }}</a>
          </div>
          <div class="four columns">
            <a class="button button-primary" href="#">{{ power.categories[3].name }}</a>
            <a class="button button-primary" href="#">{{ power.categories[4].name }}</a>
            <a class="button button-primary" href="#">{{ power.categories[5].name }}</a>
          </div>
          <div class="four columns">
            <a class="button button-primary" href="#">{{ power.categories[6].name }}</a>
            <a class="button button-primary" href="#">{{ power.categories[7].name }}</a>
            <a class="button button-primary" href="#">{{ power.categories[8].name }}</a>
          </div> 
      </div>
      </div>
    </div>
  </div>

<!-- recipients controller -->

  <div ng-controller="RecipientsController as recipients">
    <div class="send">
      <form ng-submit="recipients.save()">
        <label for="recipient[name]">Send Power To:</label>
        <input class="u-full-width" input type="text" name="recipient[name]" placeholder="Dave? Bob?..." ng-model="recipients.recipient.name"> 
        <div class= "send" ng-class="recipients.recipient.name"> {{ recipients.recipient.name}} </div>
      </form>
    </div>


  <!-- main / powers controller --> 
      <form>
          <div class="power">
          <!-- make this a form and link to the content using ng-model -->
            {{ power.selectedPower.text }} 
            <br>
            {{ power.selectedPower.citation }} 
          </div>
          <h2 ng-show="recipients.recipient.name"> {{ recipients.recipient.name}} </h2>
          <input class="button-primary" type="submit" value="Next!">
        <input class="button-primary" type="submit" value="Send">
      </form>
    </div>
  </main>
</body>
</html>